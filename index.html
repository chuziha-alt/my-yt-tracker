<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>YT Editor Workflow Pro - Mobile Sync</title>
    <!-- 1. 核心樣式與渲染庫 -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- 2. Firebase SDKs -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    
    <!-- 3. 圖標庫核心 (不使用 React 封裝版以避免報錯) -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');
        body { 
            font-family: 'Inter', -apple-system, sans-serif; 
            background-color: #0a0a0a; 
            color: #e2e8f0; 
            margin: 0;
            padding: 0;
            -webkit-tap-highlight-color: transparent;
        }
        #root { min-height: 100vh; }
        /* 防止 iOS 輸入框放大 */
        input, select, textarea { font-size: 16px !important; }
        .timer-glow { text-shadow: 0 0 20px rgba(59, 130, 246, 0.6); }
        .mobile-card { background-color: #161616; border: 1px solid rgba(255,255,255,0.08); border-radius: 28px; }
        .btn-active:active { transform: scale(0.96); }
        .sync-active { color: #3b82f6; font-weight: bold; }
    </style>
</head>
<body>
    <div id="root">
        <div class="flex flex-col items-center justify-center h-screen space-y-4">
            <div class="w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"></div>
            <div class="text-slate-500 font-mono text-xs uppercase tracking-[0.2em]">肝片引擎啟動中...</div>
        </div>
    </div>

    <script type="text/babel">
        const { useState, useEffect, useMemo } = React;

        // --- 穩定版 SVG 圖標組件 ---
        const Icon = ({ name, size = 20, className = "", color = "currentColor", fill = "none" }) => {
            const [svgContent, setSvgContent] = useState('');
            useEffect(() => {
                const timer = setInterval(() => {
                    if (window.lucide && window.lucide.icons) {
                        const iconName = name.toLowerCase().replace(/ /g, '-');
                        const iconData = window.lucide.icons[iconName] || window.lucide.icons[name];
                        if (iconData) {
                            const content = iconData[2].map(tag => {
                                const attrs = Object.entries(tag[1]).map(([k, v]) => `${k}="${v}"`).join(' ');
                                return `<${tag[0]} ${attrs} />`;
                            }).join('');
                            setSvgContent(content);
                            clearInterval(timer);
                        }
                    }
                }, 100);
                return () => clearInterval(timer);
            }, [name]);

            return (
                <svg 
                    xmlns="http://www.w3.org/2000/svg" 
                    width={size} height={size} 
                    viewBox="0 0 24 24" 
                    fill={fill} stroke={color} 
                    strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" 
                    className={className}
                    dangerouslySetInnerHTML={{ __html: svgContent }}
                />
            );
        };

        // --- Firebase 配置 (已填入您的數值) ---
        const firebaseConfig = {
            apiKey: "AIzaSyAynuyz-WwDnwZaxtxqIzPygctuDw3V-j4",
            authDomain: "yt-editing-tracker.firebaseapp.com",
            projectId: "yt-editing-tracker",
            storageBucket: "yt-editing-tracker.firebasestorage.app",
            messagingSenderId: "1080457874160",
            appId: "1:1080457874160:web:b9118a6f270a8e21955035",
            measurementId: "G-CRDTW9EK2G"
        };

        if (!firebase.apps.length) { firebase.initializeApp(firebaseConfig); }
        const auth = firebase.auth();
        const db = firebase.firestore();
        const appId = 'yt-editor-pro-v2';

        const PHASES = [
            { id: 'rough', name: '初剪 A-Roll', color: '#3b82f6' },
            { id: 'subs', name: '效果字及特效', color: '#8b5cf6' },
            { id: 'audio', name: '音樂音效', color: '#10b981' },
            { id: 'grading', name: '調光字幕', color: '#f59e0b' },
            { id: 'upload', name: '縮圖上傳', color: '#ec4899' },
            { id: 'revision', name: '修改', color: '#f43f5e' },
            { id: 'other', name: '其他 (註記)', color: '#64748b' }
        ];

        function App() {
            const [user, setUser] = useState(null);
            const [syncKey, setSyncKey] = useState(localStorage.getItem('yt_editor_sync_id') || '');
            const [showSyncModal, setShowSyncModal] = useState(false);
            const [projects, setProjects] = useState([]);
            const [logs, setLogs] = useState([]);
            const [now, setNow] = useState(new Date());

            const [isRunning, setIsRunning] = useState(false);
            const [time, setTime] = useState(0);
            const [activeProjectId, setActiveProjectId] = useState('');
            const [activePhase, setActivePhase] = useState(PHASES[0].id);
            const [sessionNote, setSessionNote] = useState('');
            const [sessionStartTime, setSessionStartTime] = useState(null);

            const [newProject, setNewProject] = useState({ 
                name: '', client: '', estHours: 8, estIncome: 2000, cost: 0, 
                projectDate: new Date().toISOString().split('T')[0], deadline: '', notes: '' 
            });

            // 1. Auth & Initialization
            useEffect(() => {
                const unsubscribe = auth.onAuthStateChanged((u) => {
                    if (u) { setUser(u); } else { auth.signInAnonymously(); }
                });
                const clockInterval = setInterval(() => setNow(new Date()), 1000);
                return () => { unsubscribe(); clearInterval(clockInterval); };
            }, []);

            // 2. Data Sync
            useEffect(() => {
                if (!user) return;
                const storageUid = syncKey ? `shared_${syncKey}` : user.uid;
                const userPath = `artifacts/${appId}/users/${storageUid}`;
                
                const unsubProjects = db.collection(`${userPath}/projects`).onSnapshot(snap => {
                    setProjects(snap.docs.map(d => ({ id: d.id, ...d.data() })));
                });
                const unsubLogs = db.collection(`${userPath}/logs`).onSnapshot(snap => {
                    setLogs(snap.docs.map(d => ({ id: d.id, ...d.data() })));
                });
                return () => { unsubProjects(); unsubLogs(); };
            }, [user, syncKey]);

            // 3. Timer
            useEffect(() => {
                let interval;
                if (isRunning) {
                    interval = setInterval(() => setTime(prev => prev + 1), 1000);
                }
                return () => clearInterval(interval);
            }, [isRunning]);

            const formatTime = (seconds) => {
                const h = Math.floor(seconds / 3600);
                const m = Math.floor((seconds % 3600) / 60);
                const s = seconds % 60;
                return `${h.toString().padStart(2, '0')}:${m.toString().padStart(2, '0')}:${s.toString().padStart(2, '0')}`;
            };

            const startTimer = () => {
                if (!activeProjectId) { alert("請先選擇一個專案！"); return; }
                setIsRunning(true);
                if (!sessionStartTime) setSessionStartTime(new Date());
            };

            const stopTimer = async () => {
                if (time === 0) return;
                setIsRunning(false);
                const endTime = new Date();
                const logData = {
                    projectId: activeProjectId,
                    phase: activePhase,
                    note: sessionNote,
                    seconds: time,
                    date: new Date().toISOString(),
                    timestamp: Date.now(),
                    displayStartTime: sessionStartTime.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' }),
                    displayEndTime: endTime.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })
                };
                try {
                    const storageUid = syncKey ? `shared_${syncKey}` : user.uid;
                    await db.collection(`artifacts/${appId}/users/${storageUid}/logs`).add(logData);
                    setTime(0); setSessionNote(''); setSessionStartTime(null);
                } catch (err) { console.error(err); }
            };

            const deleteLog = async (logId) => {
                if (!confirm("刪除這筆紀錄？")) return;
                const storageUid = syncKey ? `shared_${syncKey}` : user.uid;
                await db.collection(`artifacts/${appId}/users/${storageUid}/logs`).doc(logId).delete();
            };

            const stats = useMemo(() => {
                if (!projects.length) return [];
                const res = projects.map(p => {
                    const pLogs = logs.filter(l => l.projectId === p.id);
                    const actualSeconds = pLogs.reduce((acc, curr) => acc + curr.seconds, 0);
                    const actualHours = actualSeconds / 3600;
                    const netIncome = (p.estIncome || 0) - (p.cost || 0);
                    const rawHourlyRate = actualHours > 0 ? netIncome / actualHours : 0;
                    const actualHourlyRate = Math.min(rawHourlyRate, p.estIncome || 0);
                    const efficiency = (actualHours / (p.estHours || 1)) * 100;
                    let daysLeft = p.deadline ? Math.ceil((new Date(p.deadline) - new Date()) / 86400000) : null;
                    const phaseData = PHASES.map(ph => {
                        const phSec = pLogs.filter(l => l.phase === ph.id).reduce((a, c) => a + c.seconds, 0);
                        return { ...ph, percent: actualSeconds > 0 ? (phSec / actualSeconds) * 100 : 0 };
                    });
                    const recentWork = [...pLogs].sort((a,b) => b.timestamp - a.timestamp).slice(0, 3);
                    return { ...p, actualHours, actualHourlyRate, efficiency, phaseData, daysLeft, netIncome, recentWork };
                });
                return res.sort((a, b) => new Date(b.projectDate) - new Date(a.projectDate));
            }, [logs, projects, syncKey]);

            const todayHours = useMemo(() => {
                const today = new Date().toISOString().split('T')[0];
                const sec = logs.filter(l => l.date.startsWith(today)).reduce((a, b) => a + b.seconds, 0);
                return (sec / 3600).toFixed(1);
            }, [logs]);

            const saveSyncKey = () => {
                localStorage.setItem('yt_editor_sync_id', syncKey);
                setShowSyncModal(false);
                alert("同步 ID 已啟動！");
            };

            const addProject = async () => {
                if (!newProject.name || !newProject.client || !user) return;
                const storageUid = syncKey ? `shared_${syncKey}` : user.uid;
                await db.collection(`artifacts/${appId}/users/${storageUid}/projects`).add({...newProject, createdAt: new Date().toISOString()});
                setNewProject({ name: '', client: '', estHours: 8, estIncome: 2000, cost: 0, projectDate: new Date().toISOString().split('T')[0], deadline: '', notes: '' });
                alert("專案建立成功！");
            };

            return (
                <div className="max-w-md mx-auto px-4 py-6 space-y-6 flex flex-col pb-24">
                    
                    {/* Header */}
                    <header className="flex justify-between items-center border-b border-white/5 pb-4">
                        <div className="flex flex-col">
                            <h1 className="text-xl font-bold text-white flex items-center gap-2">
                                <Icon name="trending-up" color="#3b82f6" /> 肝片大師 Pro
                            </h1>
                            <span className="text-[10px] font-mono text-slate-500 mt-1 uppercase tracking-wider">
                                {now.toLocaleDateString('zh-TW', { month: '2-digit', day: '2-digit', weekday: 'short' })} {now.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}
                            </span>
                        </div>
                        <button onClick={() => setShowSyncModal(true)} className="p-2.5 bg-white/5 rounded-2xl text-slate-400 btn-active">
                            <Icon name="settings" size={22} />
                        </button>
                    </header>

                    {/* Sync Modal */}
                    {showSyncModal && (
                        <div className="fixed inset-0 z-50 bg-black/95 flex items-center justify-center p-6 backdrop-blur-md">
                            <div className="mobile-card p-7 w-full max-w-xs space-y-5 shadow-2xl">
                                <h2 className="text-white font-bold flex items-center gap-2 text-lg">
                                    <Icon name="settings" size={20} color="#3b82f6"/> 跨裝置連線
                                </h2>
                                <p className="text-xs text-slate-400 leading-relaxed">
                                    在所有裝置輸入相同的「暗號」，您的資料就會即時同步。
                                </p>
                                <div className="space-y-1">
                                    <label className="text-[10px] text-slate-500 uppercase font-bold px-1">您的同步 ID</label>
                                    <input 
                                        type="text" 
                                        placeholder="例：editor_hero_777" 
                                        className="w-full bg-black border border-white/10 p-4 rounded-2xl text-white outline-none focus:border-blue-500 transition-all"
                                        value={syncKey} 
                                        onChange={e => setSyncKey(e.target.value)} 
                                    />
                                </div>
                                <div className="flex gap-2 pt-2">
                                    <button onClick={saveSyncKey} className="flex-1 py-4 bg-blue-600 text-white rounded-2xl font-bold btn-active shadow-lg shadow-blue-900/40">儲存</button>
                                    <button onClick={() => setShowSyncModal(false)} className="flex-1 py-4 bg-white/10 text-slate-300 rounded-2xl font-bold btn-active">關閉</button>
                                </div>
                            </div>
                        </div>
                    )}

                    {/* Timer Section */}
                    <div className="mobile-card p-6 space-y-6 shadow-2xl border-blue-500/20 border-2">
                        <div className="space-y-4">
                            <div className="space-y-1">
                                <label className="text-[10px] font-bold text-slate-500 uppercase tracking-widest px-1">執行專案</label>
                                <select className="w-full bg-black border border-white/10 rounded-2xl p-4 text-white outline-none focus:ring-2 ring-blue-500 appearance-none shadow-inner" value={activeProjectId} onChange={(e) => setActiveProjectId(e.target.value)} disabled={isRunning}>
                                    <option value="">-- 點選專案 --</option>
                                    {projects.map(p => <option key={p.id} value={p.id}>{p.client} | {p.name}</option>)}
                                </select>
                            </div>
                            
                            <div className="space-y-1">
                                <label className="text-[10px] font-bold text-slate-500 uppercase tracking-widest px-1">工作環節</label>
                                <div className="grid grid-cols-2 gap-2">
                                    {PHASES.map(ph => (
                                        <button key={ph.id} onClick={() => setActivePhase(ph.id)} disabled={isRunning}
                                            className={`text-[11px] py-3.5 rounded-2xl border transition-all btn-active ${activePhase === ph.id ? 'border-blue-500 bg-blue-500/10 text-blue-400 font-bold' : 'border-white/5 bg-white/5 text-slate-500'}`}>
                                            {ph.name}
                                        </button>
                                    ))}
                                </div>
                            </div>
                        </div>

                        <div className="text-center space-y-5 py-6 bg-black/40 rounded-[32px] border border-white/5 shadow-inner">
                            <div className={`text-6xl font-mono font-bold timer-glow transition-all tracking-tight ${isRunning ? 'text-white' : 'text-slate-700'}`}>
                                {formatTime(time)}
                            </div>
                            <div className="px-5 space-y-3">
                                {!isRunning ? (
                                    <button onClick={startTimer} className="w-full py-5 bg-blue-600 hover:bg-blue-500 text-white rounded-[24px] font-bold text-xl btn-active transition-all shadow-xl shadow-blue-900/40 flex items-center justify-center gap-3">
                                        <Icon name="play" fill="currentColor" size={24} /> 開始肝嚕！
                                    </button>
                                ) : (
                                    <button onClick={() => setIsRunning(false)} className="w-full py-5 bg-orange-600/90 text-white rounded-[24px] font-bold text-xl btn-active transition-all flex items-center justify-center gap-3">
                                        <Icon name="pause" fill="currentColor" size={24} /> 休息一下
                                    </button>
                                )}
                                {time > 0 && (
                                    <button onClick={stopTimer} className="w-full py-2 text-red-500 text-[11px] font-bold uppercase tracking-[0.3em] opacity-60 hover:opacity-100 transition-opacity pt-2">
                                        完成並存檔
                                    </button>
                                )}
                            </div>
                        </div>
                        
                        <div className="flex items-center gap-3 bg-black/30 p-4 rounded-2xl border border-white/5">
                            <Icon name="message-square" size={16} className="text-slate-600" />
                            <input type="text" placeholder="本次進度筆記..." className="bg-transparent border-none text-xs text-slate-300 outline-none w-full" value={sessionNote} onChange={e => setSessionNote(e.target.value)} />
                        </div>
                    </div>

                    {/* Stats Dashboard */}
                    <div className="grid grid-cols-2 gap-3">
                        <div className="mobile-card p-5 flex flex-col justify-center items-center shadow-lg">
                            <span className="text-[10px] text-slate-500 font-bold uppercase tracking-wider mb-1">本日肝片</span>
                            <span className="text-3xl font-bold text-orange-400 font-mono">{todayHours}h</span>
                        </div>
                        <div className="mobile-card p-5 flex flex-col justify-center items-center shadow-lg">
                            <span className="text-[10px] text-slate-500 font-bold uppercase tracking-wider mb-1">目前時薪</span>
                            <span className="text-3xl font-bold text-green-400 font-mono">
                                ${stats.length > 0 ? Math.round(stats.reduce((a, b) => a + b.actualHourlyRate, 0) / stats.length) : 0}/h
                            </span>
                        </div>
                    </div>

                    {/* Projects Section */}
                    <div className="space-y-4">
                        <h2 className="text-sm font-bold text-slate-500 uppercase tracking-widest px-1 flex items-center gap-2">
                            <Icon name="target" size={14} /> 專案成效分析
                        </h2>
                        
                        {stats.map(p => (
                            <div key={p.id} className="mobile-card p-6 space-y-5 shadow-2xl">
                                <div className="flex justify-between items-start">
                                    <div className="space-y-2 max-w-[70%]">
                                        <div className="flex items-center gap-2">
                                            <span className="text-[9px] bg-blue-500/10 text-blue-400 font-bold px-2 py-0.5 rounded-lg uppercase tracking-wider border border-blue-500/20">{p.client}</span>
                                            <span className="text-[9px] text-slate-600 font-mono uppercase">{p.projectDate.substring(5)}</span>
                                        </div>
                                        <h3 className="text-lg font-bold text-white leading-tight">{p.name}</h3>
                                    </div>
                                    <div className="text-right">
                                        <div className="text-xl font-bold text-green-400 font-mono">${Math.round(p.actualHourlyRate)}<span className="text-xs ml-0.5 opacity-50">/h</span></div>
                                        <div className="text-[8px] text-slate-500 font-bold uppercase mt-1">淨利: ${p.netIncome.toLocaleString()}</div>
                                    </div>
                                </div>

                                {p.recentWork.length > 0 && (
                                    <div className="bg-black/40 rounded-2xl p-4 space-y-2.5 border border-white/5">
                                        <div className="text-[10px] font-bold text-slate-500 flex justify-between uppercase tracking-wider mb-1 px-1">
                                            <span>最近作業</span>
                                            <span>X 刪除</span>
                                        </div>
                                        {p.recentWork.map(l => (
                                            <div key={l.id} className="flex justify-between items-center text-[11px] font-mono border-b border-white/5 pb-2 last:border-0 last:pb-0">
                                                <div className="flex flex-col">
                                                    <span className="text-blue-400 font-bold">[{PHASES.find(ph => ph.id === l.phase)?.name}]</span>
                                                    <span className="text-slate-500 text-[9px]">{l.displayStartTime} - {l.displayEndTime}</span>
                                                </div>
                                                <div className="flex items-center gap-3">
                                                    <span className="text-white font-bold">{Math.round(l.seconds / 60)}m</span>
                                                    <button onClick={() => deleteLog(l.id)} className="p-1.5 bg-red-500/10 text-red-500 rounded-lg btn-active">
                                                        <Icon name="x" size={10} />
                                                    </button>
                                                </div>
                                            </div>
                                        ))}
                                    </div>
                                )}

                                <div className="space-y-2">
                                    <div className="flex justify-between text-[10px] font-bold uppercase tracking-wider px-1">
                                        <span className="text-slate-500">時數進度 ({p.actualHours.toFixed(1)} / {p.estHours}h)</span>
                                        <span className={p.efficiency > 100 ? 'text-red-400' : 'text-blue-400'}>{p.efficiency.toFixed(0)}%</span>
                                    </div>
                                    <div className="h-2 bg-black rounded-full overflow-hidden border border-white/5">
                                        <div className={`h-full transition-all duration-1000 ${p.efficiency > 100 ? 'bg-red-500' : 'bg-blue-600'}`} style={{ width: `${Math.min(p.efficiency, 100)}%` }} />
                                    </div>
                                    <div className="flex h-1.5 gap-1 rounded-full overflow-hidden mt-2 px-1">
                                        {p.phaseData.map(ph => (
                                            <div key={ph.id} style={{ width: `${ph.percent}%`, backgroundColor: ph.color }} />
                                        ))}
                                    </div>
                                </div>

                                <div className="flex justify-between items-center pt-3 border-t border-white/5">
                                    {p.deadline ? (
                                        <span className={`text-[10px] font-bold px-3 py-1.5 rounded-xl flex items-center gap-2 ${p.daysLeft < 3 ? 'bg-red-500/20 text-red-500 animate-pulse' : 'bg-white/5 text-slate-400'}`}>
                                            <Icon name="calendar" size={12} /> {p.deadline.substring(5)} ({p.daysLeft}天)
                                        </span>
                                    ) : <span></span>}
                                    <button onClick={async () => { 
                                        if(confirm("徹底刪除此專案與所有紀錄？")) {
                                            const storageUid = syncKey ? `shared_${syncKey}` : user.uid;
                                            await db.collection(`artifacts/${appId}/users/${storageUid}/projects`).doc(p.id).delete();
                                        }
                                    }} className="p-2.5 text-slate-700 hover:text-red-500 rounded-xl btn-active">
                                        <Icon name="trash-2" size={18}/>
                                    </button>
                                </div>
                            </div>
                        ))}
                    </div>

                    {/* New Project Form */}
                    <div className="mobile-card p-7 space-y-6 shadow-2xl">
                        <h3 className="text-lg font-bold text-white flex items-center gap-3">
                            <Icon name="plus" size={20} color="#3b82f6"/> 新增剪輯計畫
                        </h3>
                        <div className="space-y-5">
                            <div className="space-y-1.5">
                                <label className="text-[10px] text-slate-500 font-bold uppercase px-1">影片標題</label>
                                <input type="text" placeholder="輸入專案名稱" className="w-full bg-black border border-white/10 p-4 rounded-2xl text-white outline-none focus:border-blue-500 shadow-inner" value={newProject.name} onChange={e => setNewProject({...newProject, name: e.target.value})} />
                            </div>
                            <div className="space-y-1.5">
                                <label className="text-[10px] text-slate-500 font-bold uppercase px-1">客戶名稱</label>
                                <input type="text" placeholder="頻道或診所名" className="w-full bg-black border border-white/10 p-4 rounded-2xl text-white outline-none focus:border-blue-500 shadow-inner" value={newProject.client} onChange={e => setNewProject({...newProject, client: e.target.value})} />
                            </div>
                            <div className="grid grid-cols-2 gap-4">
                                <div className="space-y-1.5">
                                    <label className="text-[10px] text-slate-500 font-bold uppercase px-1">預估收益 (NTD)</label>
                                    <input type="number" className="w-full bg-black border border-white/10 p-4 rounded-2xl text-white outline-none focus:border-blue-500 shadow-inner" value={newProject.estIncome} onChange={e => setNewProject({...newProject, estIncome: parseFloat(e.target.value) || 0})} />
                                </div>
                                <div className="space-y-1.5">
                                    <label className="text-[10px] text-slate-500 font-bold uppercase px-1">額外成本 (NTD)</label>
                                    <input type="number" className="w-full bg-black border border-white/10 p-4 rounded-2xl text-white outline-none focus:border-blue-500 shadow-inner" value={newProject.cost} onChange={e => setNewProject({...newProject, cost: parseFloat(e.target.value) || 0})} />
                                </div>
                            </div>
                            <div className="grid grid-cols-2 gap-4">
                                <div className="space-y-1.5">
                                    <label className="text-[10px] text-blue-400 font-bold uppercase px-1 tracking-tighter">執行日期</label>
                                    <input type="date" className="w-full bg-black border border-white/10 p-4 rounded-2xl text-white outline-none" value={newProject.projectDate} onChange={e => setNewProject({...newProject, projectDate: e.target.value})} />
                                </div>
                                <div className="space-y-1.5">
                                    <label className="text-[10px] text-red-400 font-bold uppercase px-1 tracking-tighter">截稿日期</label>
                                    <input type="date" className="w-full bg-black border border-white/10 p-4 rounded-2xl text-white outline-none" value={newProject.deadline} onChange={e => setNewProject({...newProject, deadline: e.target.value})} />
                                </div>
                            </div>
                            <div className="space-y-1.5">
                                <label className="text-[10px] text-slate-500 font-bold uppercase px-1">預計總時數 (h)</label>
                                <input type="number" className="w-full bg-black border border-white/10 p-4 rounded-2xl text-white outline-none shadow-inner" value={newProject.estHours} onChange={e => setNewProject({...newProject, estHours: parseFloat(e.target.value) || 0})} />
                            </div>
                            <button onClick={addProject} className="w-full py-5 bg-white text-black rounded-[24px] font-bold text-lg shadow-xl shadow-blue-900/30 btn-active">建立計畫</button>
                        </div>
                    </div>

                    <footer className="text-center py-12 opacity-20 text-[9px] uppercase tracking-[0.4em] font-mono">
                        YT Master Logic v3.0 • Final Standalone
                    </footer>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>